<!DOCTYPE html>
<html lang="fr">

<head>
    <%- include('../partials/head'); %>
</head>
<style>
    .card {
        padding: 2%;
    }
    
    .buttons {
        text-align: right;
    }
</style>

<body>
    <header>
        <%- include('../partials/header'); %>
    </header>

    <main class="container" style="margin-top:2%">
        <form action="/movies/edit/<%=movie.id%>" method="POST">
            <h3>Edition du film</b>
            </h3>
            <div class="form-group">
                <label for="title">Titre</label>
                <input type="text" id="title" name="title" value="<%=movie.title%>" class="form-control form-control-lg" />
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea class="form-control" name="description" required id="description" rows="4"><%=movie.description%></textarea>
            </div>
            <div class="form-group">
                <label for="director">Réalisateur</label>
                <input type="text" id="director" name="director" value="<%=movie.director%>" class="form-control form-control-lg" />
            </div>
            <div class="form-group">
                <label for="releaseYear">Date de sortie</label>
                <input type="number" min="1900" name="releaseYear" max="2100" step="1" id="releaseYear" value="<%=movie.releaseYear%>" class="form-control form-control-lg" />
            </div>
            <div class="form-group">
                <label for="duration">Durée du film</label>
                <input type="number" name="duration" placeholder="Temps en minutes" id="duration" value="<%=movie.duration%>" class="form-control form-control-lg" />
            </div>
            <div class="form-group">
                <label for="state">Status</label>
                <select id="state" name="stateID" class="form-control form-control-lg">
                    <% optionsStates.forEach(function(option) { %>
                        <option name="<%= option.id %>" <%= movie.stateID == option.id ? 'selected' : ''%>  value="<%= option.id %>">
                            <%= option.name%>
                       </option>
                    <% }); %>
                </select>
            </div>

            <div class="form-group">
                <label for="category">Catégories</label>
                <select id="category" name="categoryID" class="form-control form-control-lg">
                    <% optionsCategories.forEach(function(option) { %>
                        <option name="<%= option.id %>" <%= movie.categoryID == option.id ? 'selected' : ''%>  value="<%= option.id%>">
                            <%= option.name%>
                       </option>
                    <% }); %>
                </select>
            </div>
            <div class="buttons">
                <button class="btn btn-lighr btn-lg mr-2"><a class="nav-link" href="/movies">Annuler</a></button>
                <button type="submit" class="btn btn-primary btn-lg ">Editer</button>
            </div>

        </form>
    </main>

    <footer>
        <%- include('../partials/footer'); %>
    </footer>

</body>

</html>